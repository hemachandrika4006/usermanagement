{"ast":null,"code":"import _objectSpread from\"C:/Users/hemac/OneDrive/Desktop/routing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/hemac/OneDrive/Desktop/routing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from'react';import{useForm}from'react-hook-form';import axios from'axios';import{useNavigate}from\"react-router-dom\";import{loginContext}from\"../contexts/logincontext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signin(){var _errors$username,_errors$password;{/* as we click submit it gives user credentials to context that is handleSubmitUser = (userCredObj) takes\r\n      the values as sends usercredobg as function to       loginUser(userCredObj) as it is the function in userlofinstore it makes api request to backend \r\n    */}var _useContext=useContext(loginContext),_useContext2=_slicedToArray(_useContext,4),currentUser=_useContext2[0],loginErr=_useContext2[1],userLoginStatus=_useContext2[2],loginUser=_useContext2[3];//error state\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];//navigate\nvar navigate=useNavigate();//use form hook\nvar _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;//adding new user\nvar handleSubmitUser=function handleSubmitUser(userCredObj){loginUser(userCredObj);};useEffect(function(){if(userLoginStatus===true){navigate(\"/user-profile\");}},[userLoginStatus]);return/*#__PURE__*/_jsxs(\"div\",{className:\"add-user\",children:[loginErr.length!==0&&/*#__PURE__*/_jsx(\"p\",{className:\"display-3 text-danger text-center\",children:loginErr}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-11 col-sm-8 col-md-6 mx-auto\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(handleSubmitUser),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 mt-5\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Userame\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",id:\"username\",className:\"form-control\"},register(\"username\",{required:true}))),((_errors$username=errors.username)===null||_errors$username===void 0?void 0:_errors$username.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fw-bold fs-5\",children:\"* Username is required\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"password\",id:\"password\",className:\"form-control\"},register(\"password\",{required:true}))),((_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.type)===\"required\"&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger fw-bold fs-5\",children:\"* Password is required\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",children:\"Login\"})]})})})]});}export default Signin;","map":{"version":3,"names":["React","useState","useContext","useEffect","useForm","axios","useNavigate","loginContext","jsx","_jsx","jsxs","_jsxs","Signin","_errors$username","_errors$password","_useContext","_useContext2","_slicedToArray","currentUser","loginErr","userLoginStatus","loginUser","_useState","_useState2","error","setError","navigate","_useForm","register","handleSubmit","errors","formState","handleSubmitUser","userCredObj","className","children","length","onSubmit","htmlFor","_objectSpread","type","id","required","username","password"],"sources":["C:/Users/hemac/OneDrive/Desktop/routing/src/components/Signin.js"],"sourcesContent":["import React,{ useState,useContext,useEffect } from 'react';\r\nimport {useForm} from 'react-hook-form'\r\nimport axios from 'axios'\r\nimport {useNavigate} from \"react-router-dom\"\r\nimport { loginContext } from \"../contexts/logincontext\";\r\nfunction Signin() {\r\n   {/* as we click submit it gives user credentials to context that is handleSubmitUser = (userCredObj) takes\r\n      the values as sends usercredobg as function to       loginUser(userCredObj) as it is the function in userlofinstore it makes api request to backend \r\n    */}\r\n    let [currentUser,loginErr,userLoginStatus,loginUser]=useContext(loginContext)\r\n  \r\n \r\n    //error state\r\n    let [error, setError] = useState(\"\");\r\n  \r\n    //navigate\r\n    const navigate = useNavigate();\r\n  \r\n    //use form hook\r\n    let {\r\n      register,\r\n      handleSubmit,\r\n      formState: { errors },\r\n    } = useForm();\r\n  \r\n    //adding new user\r\n    let handleSubmitUser = (userCredObj) => {\r\n      \r\n        loginUser(userCredObj)\r\n     \r\n    };\r\n  \r\n  \r\n   useEffect(()=>{\r\n      if(userLoginStatus===true){\r\n        navigate(\"/user-profile\")\r\n      }\r\n    },[userLoginStatus])\r\n  \r\n    return (\r\n      <div className=\"add-user\">\r\n       \r\n        {/* form submission error */}\r\n        {loginErr.length !== 0 && (\r\n          <p className=\"display-3 text-danger text-center\">{loginErr}</p>\r\n        )}\r\n        {/* add user form */}\r\n        <div className=\"row\">\r\n          <div className=\"col-11 col-sm-8 col-md-6 mx-auto\">\r\n            <form onSubmit={handleSubmit(handleSubmitUser)}>\r\n              {/* username */}\r\n              <div className=\"mb-3 mt-5\">\r\n                <label htmlFor=\"name\">Userame</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"username\"\r\n                  className=\"form-control\"\r\n                  {...register(\"username\", { required: true })}\r\n                />\r\n                {/* validation errors for name */}\r\n                {errors.username?.type === \"required\" && (\r\n                  <p className=\"text-danger fw-bold fs-5\">\r\n                    * Username is required\r\n                  </p>\r\n                )}\r\n              </div>\r\n              {/* password */}\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"name\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  className=\"form-control\"\r\n                  {...register(\"password\", { required: true })}\r\n                />\r\n                {/* validation errors for name */}\r\n                {errors.password?.type === \"required\" && (\r\n                  <p className=\"text-danger fw-bold fs-5\">\r\n                    * Password is required\r\n                  </p>\r\n                )}\r\n              </div>\r\n             \r\n             \r\n              {/* submit button */}\r\n              <button type=\"submit\" className=\"btn btn-danger\">\r\n                Login\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )}\r\nexport default Signin"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}